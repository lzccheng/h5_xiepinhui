webpackJsonp([41],{Yh0e:function(t,i,e){var n=e("ZwoS");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e("rjj0")("58c9b6d4",n,!0,{})},ZwoS:function(t,i,e){i=t.exports=e("FZ+f")(!0),i.push([t.i,"\n.top-header[data-v-1a690fc3] {\n  background: #fff;\n  line-height: 0.7rem;\n  font-size: 12pt;\n  color: #999;\n  position: fixed;\n  width: 100%;\n  /* top: 0; */\n  z-index: 3;\n}\n.sc-bianji[data-v-1a690fc3] {\n  position: relative;\n  right: 0.3rem;\n}\n.sc-content[data-v-1a690fc3] {\n  padding-bottom: 1.02rem;\n}\n.sc-list-box[data-v-1a690fc3]:first-of-type {\n  margin-top: 0.7rem;\n}\n.sc-list-box[data-v-1a690fc3] {\n  width: 100%;\n  background: #fff;\n  padding-top: 0.1rem;\n}\n.check-box[data-v-1a690fc3] {\n  padding-left: 0.2rem;\n  font-size: 12pt;\n}\n.check-box .item-select[data-v-1a690fc3] {\n  font-size: 18pt;\n}\n.item-list-left[data-v-1a690fc3] {\n  padding: 0.1rem 0.2rem;\n  position: relative;\n}\n.item-list-left img[data-v-1a690fc3] {\n  width: 2rem;\n  height: 2rem;\n}\n.item-list-right[data-v-1a690fc3] {\n  padding-right: 0.3rem;\n  width: 70%;\n  color: #000;\n  font-size: 11pt;\n  position: relative;\n}\n.item-list-right-goodsname[data-v-1a690fc3] {\n  padding-top: 0.04rem;\n  height: 1rem;\n  display: -webkit-box;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n}\n.item-list-right-pirce[data-v-1a690fc3] {\n  height: 1rem;\n  line-height: 1.8rem;\n}\n.allselect[data-v-1a690fc3] {\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  z-index: 2;\n  background: #fff;\n  line-height: 1.02rem;\n}\n.delete-btn[data-v-1a690fc3] {\n  background: #000;\n  color: #fff;\n  padding: 0 0.6rem;\n}\n","",{version:3,sources:["E:/project/h5_xiepinhui/dev/src/page/center/sc_goods/sc_goods.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,oBAAoB;EACpB,gBAAgB;EAChB,YAAY;EACZ,gBAAgB;EAChB,YAAY;EACZ,aAAa;EACb,WAAW;CACZ;AACD;EACE,mBAAmB;EACnB,cAAc;CACf;AACD;EACE,wBAAwB;CACzB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,YAAY;EACZ,iBAAiB;EACjB,oBAAoB;CACrB;AACD;EACE,qBAAqB;EACrB,gBAAgB;CACjB;AACD;EACE,gBAAgB;CACjB;AACD;EACE,uBAAuB;EACvB,mBAAmB;CACpB;AACD;EACE,YAAY;EACZ,aAAa;CACd;AACD;EACE,sBAAsB;EACtB,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,mBAAmB;CACpB;AACD;EACE,qBAAqB;EACrB,aAAa;EACb,qBAAqB;EACrB,iBAAiB;EACjB,wBAAwB;EACxB,sBAAsB;EACtB,6BAA6B;EAC7B,sBAAsB;CACvB;AACD;EACE,aAAa;EACb,oBAAoB;CACrB;AACD;EACE,gBAAgB;EAChB,UAAU;EACV,YAAY;EACZ,WAAW;EACX,iBAAiB;EACjB,qBAAqB;CACtB;AACD;EACE,iBAAiB;EACjB,YAAY;EACZ,kBAAkB;CACnB",file:"sc_goods.vue",sourcesContent:["\n.top-header[data-v-1a690fc3] {\n  background: #fff;\n  line-height: 0.7rem;\n  font-size: 12pt;\n  color: #999;\n  position: fixed;\n  width: 100%;\n  /* top: 0; */\n  z-index: 3;\n}\n.sc-bianji[data-v-1a690fc3] {\n  position: relative;\n  right: 0.3rem;\n}\n.sc-content[data-v-1a690fc3] {\n  padding-bottom: 1.02rem;\n}\n.sc-list-box[data-v-1a690fc3]:first-of-type {\n  margin-top: 0.7rem;\n}\n.sc-list-box[data-v-1a690fc3] {\n  width: 100%;\n  background: #fff;\n  padding-top: 0.1rem;\n}\n.check-box[data-v-1a690fc3] {\n  padding-left: 0.2rem;\n  font-size: 12pt;\n}\n.check-box .item-select[data-v-1a690fc3] {\n  font-size: 18pt;\n}\n.item-list-left[data-v-1a690fc3] {\n  padding: 0.1rem 0.2rem;\n  position: relative;\n}\n.item-list-left img[data-v-1a690fc3] {\n  width: 2rem;\n  height: 2rem;\n}\n.item-list-right[data-v-1a690fc3] {\n  padding-right: 0.3rem;\n  width: 70%;\n  color: #000;\n  font-size: 11pt;\n  position: relative;\n}\n.item-list-right-goodsname[data-v-1a690fc3] {\n  padding-top: 0.04rem;\n  height: 1rem;\n  display: -webkit-box;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  word-break: break-all;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n}\n.item-list-right-pirce[data-v-1a690fc3] {\n  height: 1rem;\n  line-height: 1.8rem;\n}\n.allselect[data-v-1a690fc3] {\n  position: fixed;\n  bottom: 0;\n  width: 100%;\n  z-index: 2;\n  background: #fff;\n  line-height: 1.02rem;\n}\n.delete-btn[data-v-1a690fc3] {\n  background: #000;\n  color: #fff;\n  padding: 0 0.6rem;\n}\n"],sourceRoot:""}])},kzIP:function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("Dd8w"),s=n(a),o=e("Xxa5"),c=n(o),l=e("d7EF"),r=n(l),d=e("exGp"),f=n(d),u=e("mCTZ"),h=e("NYxO"),p=e("VsUZ"),A=e("rHil"),g=(n(A),e("1DHf")),v=(n(g),e("2sLL")),m=(n(v),e("D8a4")),C=(n(m),e("ABCa")),x=n(C);i.default={components:{XHeader:x.default},data:function(){return{sc_info:"",listLoading:!0,isNull:!1,upLoading:!1,upLoadingComplete:!1,page:2,nowLoading:!1,lock:!1,isallSelect:!1,isbianji:!1}},created:function(){this.showSc()},mounted:function(){var t=this;this.$nextTick(function(){(0,u.isScrollBottom)(t.onReachBottom)})},destroyed:function(){window.onscroll=null},methods:{showSc:function(){function t(){return i.apply(this,arguments)}var i=(0,f.default)(c.default.mark(function t(){var i,e,n,a,s,o,l;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={plat:3,account:this.account,token:this.token,page:1},t.next=3,p.api.collectgoodslist(i);case 3:if(e=t.sent,n=(0,r.default)(e,2),a=n[0],s=n[1],!a){t.next=10;break}return this.$vux.toast.text(a.msg),t.abrupt("return");case 10:if(2e3==s.code){for(o=""==s.data.list,l=0;l<s.data.list.length;l++)s.data.list[l].isSelect=!1;this.sc_info=s.data.list,this.listLoading=!1,this.isNull=o}case 11:case"end":return t.stop()}},t,this)}));return t}(),bianji:function(){this.isbianji=!this.isbianji},allSelect:function(){for(var t=0;t<this.sc_info.length;t++)this.sc_info[t].isSelect=!this.isallSelect;this.isallSelect=!this.isallSelect,this.sc_info=this.sc_info},isallSelectFn:function(){for(var t=0;t<this.sc_info.length;t++)if(!this.sc_info[t].isSelect)return void(this.isallSelect=!1);this.isallSelect=!0},switchSelect:function(t){this.sc_info[t].isSelect=!this.sc_info[t].isSelect,this.isallSelectFn()},touchend:function(){if(this.lock){var t=this;setTimeout(function(){t.lock=!1},100)}},goInfo:function(t,i){if(!this.lock){this.$router.push({path:"/index/goodsInfoPindan",query:{goodsId:i}})}},onReachBottom:function(){function t(){return i.apply(this,arguments)}var i=(0,f.default)(c.default.mark(function t(){var i,e,n,a,s,o,l;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.upLoadingComplete){t.next=2;break}return t.abrupt("return");case 2:return this.nowLoading=!0,this.upLoading=!0,i=this,e={plat:3,account:this.account,token:this.token,page:this.page},t.next=8,p.api.collectgoodslist(e);case 8:if(n=t.sent,a=(0,r.default)(n,2),s=a[0],o=a[1],!s){t.next=15;break}return this.$vux.toast.text(s.msg),t.abrupt("return");case 15:if(2e3==o.code)if(""!=o.data.list){if(i.isallSelect)for(l=0;l<o.data.list.length;l++)o.data.list[l].isSelect=!0;else for(l=0;l<o.data.list.length;l++)o.data.list[l].isSelect=!1;i.sc_info=i.sc_info.concat(o.data.list),i.upLoading=!1,i.nowLoading=!1,i.page=i.page+1}else i.upLoadingComplete=!0,i.upLoading=!0,i.nowLoading=!1;case 16:case"end":return t.stop()}},t,this)}));return t}(),qxScgoods:function(){this.lock=!0;for(var t=this,i="",e=0;e<this.sc_info.length;e++)this.sc_info[e].isSelect&&(i=""==i?this.sc_info[e].fav_goods_id:i+","+this.sc_info[e].fav_goods_id);if(""==i)return this.$vux.toast.text("请选择要取消收藏的商品"),!1;this.$vux.confirm.show({title:"",content:"是否要取消收藏？",onConfirm:function(){function e(){return n.apply(this,arguments)}var n=(0,f.default)(c.default.mark(function e(){var n,a,s,o,l;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={plat:3,account:t.account,token:t.token,goods_id:i,type:2},e.next=3,p.api.cancelcollectgoods(n);case 3:if(a=e.sent,s=(0,r.default)(a,2),o=s[0],l=s[1],!o){e.next=10;break}return t.$vux.toast.text(o.msg),e.abrupt("return");case 10:2e3==l.code&&(t.$vux.toast.text("取消收藏成功"),t.page=2,t.upLoadingComplete=!1,t.isbianji=!1,t.showSc());case 11:case"end":return e.stop()}},e,this)}));return e}()})}},computed:(0,s.default)({},(0,h.mapGetters)(["user","account","token"]))}},qyF0:function(t,i,e){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(i,"__esModule",{value:!0});var a=e("Dd8w"),s=n(a),o=e("Xxa5"),c=n(o),l=e("d7EF"),r=n(l),d=e("exGp"),f=n(d),u=e("mCTZ"),h=e("NYxO"),p=e("VsUZ"),A=e("rHil"),g=(n(A),e("1DHf")),v=(n(g),e("2sLL")),m=(n(v),e("D8a4")),C=(n(m),e("ABCa")),x=n(C);i.default={components:{XHeader:x.default},data:function(){return{sc_info:"",listLoading:!0,isNull:!1,upLoading:!1,upLoadingComplete:!1,page:2,nowLoading:!1,lock:!1,isallSelect:!1,isbianji:!1}},created:function(){this.showSc()},mounted:function(){var t=this;this.$nextTick(function(){(0,u.isScrollBottom)(t.onReachBottom)})},destroyed:function(){window.onscroll=null},methods:{showSc:function(){function t(){return i.apply(this,arguments)}var i=(0,f.default)(c.default.mark(function t(){var i,e,n,a,s,o,l;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i={plat:3,account:this.account,token:this.token,page:1},t.next=3,p.api.collectgoodslist(i);case 3:if(e=t.sent,n=(0,r.default)(e,2),a=n[0],s=n[1],!a){t.next=10;break}return this.$vux.toast.text(a.msg),t.abrupt("return");case 10:if(2e3==s.code){for(o=""==s.data.list,l=0;l<s.data.list.length;l++)s.data.list[l].isSelect=!1;this.sc_info=s.data.list,this.listLoading=!1,this.isNull=o}case 11:case"end":return t.stop()}},t,this)}));return t}(),bianji:function(){this.isbianji=!this.isbianji},allSelect:function(){for(var t=0;t<this.sc_info.length;t++)this.sc_info[t].isSelect=!this.isallSelect;this.isallSelect=!this.isallSelect,this.sc_info=this.sc_info},isallSelectFn:function(){for(var t=0;t<this.sc_info.length;t++)if(!this.sc_info[t].isSelect)return void(this.isallSelect=!1);this.isallSelect=!0},switchSelect:function(t){this.sc_info[t].isSelect=!this.sc_info[t].isSelect,this.isallSelectFn()},touchend:function(){if(this.lock){var t=this;setTimeout(function(){t.lock=!1},100)}},goInfo:function(t,i){if(!this.lock){this.$router.push({path:"/index/goodsInfoPindan",query:{goodsId:i}})}},onReachBottom:function(){function t(){return i.apply(this,arguments)}var i=(0,f.default)(c.default.mark(function t(){var i,e,n,a,s,o,l;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.upLoadingComplete){t.next=2;break}return t.abrupt("return");case 2:return this.nowLoading=!0,this.upLoading=!0,i=this,e={plat:3,account:this.account,token:this.token,page:this.page},t.next=8,p.api.collectgoodslist(e);case 8:if(n=t.sent,a=(0,r.default)(n,2),s=a[0],o=a[1],!s){t.next=15;break}return this.$vux.toast.text(s.msg),t.abrupt("return");case 15:if(2e3==o.code)if(""!=o.data.list){if(i.isallSelect)for(l=0;l<o.data.list.length;l++)o.data.list[l].isSelect=!0;else for(l=0;l<o.data.list.length;l++)o.data.list[l].isSelect=!1;i.sc_info=i.sc_info.concat(o.data.list),i.upLoading=!1,i.nowLoading=!1,i.page=i.page+1}else i.upLoadingComplete=!0,i.upLoading=!0,i.nowLoading=!1;case 16:case"end":return t.stop()}},t,this)}));return t}(),qxScgoods:function(){this.lock=!0;for(var t=this,i="",e=0;e<this.sc_info.length;e++)this.sc_info[e].isSelect&&(i=""==i?this.sc_info[e].fav_goods_id:i+","+this.sc_info[e].fav_goods_id);if(""==i)return this.$vux.toast.text("请选择要取消收藏的商品"),!1;this.$vux.confirm.show({title:"",content:"是否要取消收藏？",onConfirm:function(){function e(){return n.apply(this,arguments)}var n=(0,f.default)(c.default.mark(function e(){var n,a,s,o,l;return c.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n={plat:3,account:t.account,token:t.token,goods_id:i,type:2},e.next=3,p.api.cancelcollectgoods(n);case 3:if(a=e.sent,s=(0,r.default)(a,2),o=s[0],l=s[1],!o){e.next=10;break}return t.$vux.toast.text(o.msg),e.abrupt("return");case 10:2e3==l.code&&(t.$vux.toast.text("取消收藏成功"),t.page=2,t.upLoadingComplete=!1,t.isbianji=!1,t.showSc());case 11:case"end":return e.stop()}},e,this)}));return e}()})}},computed:(0,s.default)({},(0,h.mapGetters)(["user","account","token"]))}},sSxy:function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"page"},[e("x-header",{attrs:{"left-options":{backText:""},title:"我的收藏",id:"vux-header"}}),t._v(" "),e("div",[e("div",{staticClass:"top-header flex flex-pack-end  line_xi_after"},[t.isbianji?e("span",{staticClass:"sc-bianji",on:{click:t.bianji}},[t._v("完成")]):e("span",{staticClass:"sc-bianji",on:{click:t.bianji}},[t._v("编辑")])]),t._v(" "),t.listLoading?e("div",{staticClass:"weui-loadmore",staticStyle:{"margin-top":"35px"}},[e("div",{staticClass:"weui-loading"}),t._v(" "),e("div",{staticClass:"weui-loadmore__tips"},[t._v("正在加载")])]):e("div",{class:t.isbianji?"sc-content":"",staticStyle:{"padding-top":"0.7rem"}},[t._l(t.sc_info,function(i,n){return e("div",{key:n,staticClass:"sc-list-box flex ",staticStyle:{"margin-top":"0"},attrs:{"data-index":n,"data-goodsid":i.fav_goods_id,"data-type":i.type},on:{click:[function(i){return i.stopPropagation(),t.touchend(i)},function(e){t.goInfo(i.type,i.fav_goods_id)}]}},[t.isbianji?e("div",{staticClass:"check-box flex flex-align-center",attrs:{"data-index":n},on:{click:function(i){i.stopPropagation(),t.switchSelect(n)}}},[e("span",{staticClass:"item-select iconfont",class:i.isSelect?"icon-live-select":"icon-live-unselect"})]):t._e(),t._v(" "),e("div",{staticClass:"item-list-left"},[e("img",{attrs:{mode:"widthFix",src:i.goods_image}})]),t._v(" "),e("div",{staticClass:"item-list-right line_xi_after"},[e("div",{staticClass:"item-list-right-goodsname"},[t._v(t._s(i.goods_name))]),t._v(" "),e("div",{staticClass:"item-list-right-pirce"},[t._v("￥"+t._s(i.purchase_price))])])])}),t._v(" "),t.nowLoading?e("div",{staticClass:"weui-loadmore"},[e("div",{staticClass:"weui-loading"}),t._v(" "),e("div",{staticClass:"weui-loadmore__tips"},[t._v("正在加载")])]):t._e(),t._v(" "),t.upLoadingComplete?e("div",{staticClass:"loading complete"},[t._v("已加载全部")]):t._e(),t._v(" "),t.isbianji?e("div",{staticClass:"allselect flex flex-pack-justify"},[e("div",{staticClass:"check-box flex flex-align-center",on:{click:t.allSelect}},[e("span",{staticClass:"item-select iconfont",class:t.isallSelect?"icon-live-select":"icon-live-unselect",staticStyle:{"padding-right":"5px"}}),t._v(" 全选\n            ")]),t._v(" "),e("div",{staticClass:"delete-btn",on:{click:t.qxScgoods}},[t._v("删除")])]):t._e()],2),t._v(" "),t.isNull?e("div",{staticStyle:{"margin-top":"55px","text-align":"center"}},[t._v("暂无收藏商品")]):t._e()])],1)},a=[],s={render:n,staticRenderFns:a};i.a=s},wFj5:function(t,i,e){"use strict";function n(t){e("Yh0e")}Object.defineProperty(i,"__esModule",{value:!0});var a=e("qyF0");e.n(a);for(var s in a)"default"!==s&&function(t){e.d(i,t,function(){return a[t]})}(s);var o=e("kzIP"),c=e.n(o),l=e("sSxy"),r=e("VU/8"),d=n,f=r(c.a,l.a,!1,d,"data-v-1a690fc3",null);i.default=f.exports}});
//# sourceMappingURL=41.8bedc13e333b3417fb32.js.map